<!DOCTYPE html>
<html>
<head>
  <title>Force</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <!--[if lt IE 9]>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge，chrome=1">
  <![endif]-->
  <link rel="shortcut icon" href="Design/testIcon.ico" type="image/x-icon">
  <link href="https://cdn.bootcss.com/material-design-icons/2.2.3/iconfont/material-icons.css" rel="stylesheet">
  <link href="https://cdn.bootcss.com/material-design-lite/1.1.3/material.css" rel="stylesheet">
  <link href="https://cdn.bootcss.com/animate.css/3.5.1/animate.css" rel="stylesheet">
  <script src="https://cdn.bootcss.com/material-design-lite/1.1.3/material.js"></script>
  <script src="https://cdn.bootcss.com/jquery/2.2.3/jquery.js"></script>
  <style type="text/css">
  body::before {
    background-size: cover;
    background-attachment: fixed;
    content: '';
    will-change: transform;
    z-index: -1;
    left: 0;
    right: 0;
    bottom: 0;
    top: 0;
    position: fixed;
  }
  @media (max-width: 512px)  and (-webkit-min-device-pixel-ratio: 1.5),
         (max-width: 512px)  and (min-resolution: 1.5dppx),
         (max-width: 1024px) and (-webkit-max-device-pixel-ratio: 1.5),
         (max-width: 1024px) and (max-resolution: 1.5dppx) {
    body::before {
      background-image: url('Img/bg_2880.jpg');
    }
  }
  @media (min-width: 513px)  and (max-width: 1024px) and (-webkit-min-device-pixel-ratio: 1.5),
         (min-width: 513px)  and (max-width: 1024px) and (min-resolution: 1.5dppx),
         (min-width: 1025px) and (max-width: 2048px) and (-webkit-max-device-pixel-ratio: 1.5),
         (min-width: 1025px) and (max-width: 2048px) and (max-resolution: 1.5dppx)  {
    body::before {
      background-image: url('Img/bg_2880.jpg');
    }
  }
  @media (min-width: 1025px) and (-webkit-min-device-pixel-ratio: 1.5),
         (min-width: 1025px) and (min-resolution: 1.5dppx),
         (min-width: 2049px) and (-webkit-max-device-pixel-ratio: 1.5),
         (min-width: 2049px) and (max-resolution: 1.5dppx) {
    body::before {
      background-image: url('Img/bg_2880.jpg');
    }
  }
  html body {
    height: 100%;
  }
  body .mainContainer {
    font-family: 'Roboto', 'Helvetica', sans-serif;
  }
  .mainContainer .functionArea {
    max-width: 900px;
    width: 100%;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
    padding: 0px;
    margin-left: auto;
    margin-right: auto;
    -webkit-flex-shrink: 0;
    -ms-flex-negative: 0;
    flex-shrink: 0;
  }
  .mainContainer.is-small-screen .functionArea > .mdl-card.box1 {
    -webkit-order: 0;
    -ms-flex-order: 0;
    order: 0;
  }
  .mainContainer.is-small-screen .functionArea > .mdl-card.userCard {
    -webkit-order: -1;
    -ms-flex-order: -1;
    order: -1;
  }
  .mainContainer.mdl-layout .mdl-layout__content {
    position: relative;
    padding-top: 230px;
    -webkit-overflow-scrolling: touch;
  }
  .mainContainer.is-small-screen .mdl-layout__content {
    padding-top: 100px;
  }
  .mainContainer .mdl-card {
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
    -webkit-flex-direction: column;
    -ms-flex-direction: column;
    flex-direction: column;
    -webkit-align-items: stretch;
    -ms-flex-align: stretch;
    align-items: stretch;
    min-height: 360px;
    overflow: visible;
    border-radius: 2px;
  }
  .mainContainer .mdl-card .mdl-card__media {
    box-sizing: border-box;
    background-size: cover;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
    -webkit-flex-grow: 1;
    -ms-flex-positive: 1;
    flex-grow: 1;
    -webkit-flex-direction: row;
    -ms-flex-direction: row;
    flex-direction: row;
    -webkit-align-items: flex-end;
    -ms-flex-align: end;
    align-items: flex-end;
    cursor: pointer;
    border-top-left-radius: 2px;
    border-top-right-radius: 2px;
    background-color: #2c3e50 !important;
    overflow: hidden;
  }
  .newButton {
    position: absolute;
    right: 28px;
    top: 0px;
    -webkit-transform: translate(0px, -28px);
    transform: translate(0px, -28px);
    background-color: #000 !important;
    padding: 0px;
    margin: 0px;
  }
  .newButton_scrolled {
    position: absolute;
    background-color: #000 !important;
    margin: 0px;
    padding: 0px;
    display: none;
    z-index: 10;
  }
  .mainContainer .mdl-card .mdl-card__supporting-text {
    width: auto;
    padding: 16px;
    min-height: 40px;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
    -webkit-align-items: center;
    -ms-flex-align: center;
    align-items: center;
    border-bottom-left-radius: 2px;
    border-bottom-right-radius: 2px;
    background-color: #e9e9e9 !important;
  }
  .mdl-card.forceZone .mdl-card__media {
    
  }
  .mdl-card.forceZone .mdl-card__media .imageContainer {
    position: absolute;
    width: 100%;
    height: auto;
  }
  .mdl-card.forceZone .mdl-card__media .mdl-card__supporting-text {

  }
  .mdl-card.userCard .mdl-card__media {
    background-color: #FFF !important;
  }
  .mdl-card.userCard .mdl-card__supporting-text {
    
  }
  .mdl-card.missionCard .mdl-card__media {
    
  }
  .mdl-card.missionCard .mdl-card__supporting-text {
    
  }
  </style>
  <script type="text/javascript">
    $(document).ready(function() {
      $newButton = $('#newButton');
      $newButton_scrolled = $('#newButton_scrolled');
      $mainContainer = $('.mainContainer');
      $layoutContent = $('.mainContainer .mdl-layout__content');
      $functionArea = $('.mainContainer .mdl-layout__content .functionArea.mdl-grid');
      $userCard = $('.userCard');
      $forceZone = $('.forceZone');

      $layoutContent.scroll(function(event) {
        if($layoutContent.scrollTop()>250) {
          $newButton.hide();
          var $a=$functionArea.width()+(parseInt($functionArea.css('margin-left')));
          if($mainContainer.width()>=($a+142)) {
            $newButton_scrolled.css({
              'left': $a+86+'px',
              'top': '10%'
            }).fadeIn(300);
          } else if($mainContainer.width()<($a+142)) {
            $newButton_scrolled.css({
              'left': $a-90+'px',
              'top': $mainContainer.height()-106+'px'
            }).addClass('mdl-shadow--2dp').fadeIn(300);
          };
        } else if($layoutContent.scrollTop()<=250) {
          $newButton_scrolled.hide();
          $newButton.fadeIn(300);
        };
      });

      function newCardFun() {
        $userCard.after('<div id="01" class="mdl-card mdl-cell mdl-cell--12-col mdl-shadow--2dp"></div>');
        $('#01').hide();
        $('#01').fadeIn(300);
        if($layoutContent.scrollTop()<=250) {
          $layoutContent.animate({scrollTop: 373}, 500);
        } else {
          $layoutContent.animate({scrollTop: 373}, 500);
        };
      };
      $newButton.bind('click', newCardFun);
      $newButton_scrolled.bind('click', newCardFun);
      
      function forceZoneControlFun() {
        var $media = $('.forceZone .mdl-card__media');
        var $supportingText = $('.forceZone .mdl-card__supporting-text');

      }
    });
  </script>
</head>
<body>
  <div class="mainContainer mdl-layout mdl-js-layout">
    <div class="mdl-layout__content">
      <div class="functionArea mdl-grid">
        <div class="mdl-card mdl-cell mdl-cell--8-col mdl-shadow--2dp forceZone">
          <div class="mdl-card__media">
            <div class="imageContainer"></div>
          </div>
          <div class="mdl-card__supporting-text mdl-color-text--grey-600">中国</div>
        </div>
        <div class="mdl-card mdl-cell mdl-cell--8-col mdl-cell--4-col-desktop mdl-shadow--2dp userCard">
          <button id="newButton" class="mdl-button mdl-js-button mdl-button--fab mdl-button--colored mdl-shadow--4dp mdl-js-ripple-effect newButton">
            <i class="material-icons mdl-color-text--white" role="presentation">add</i>
          </button>
          <div class="mdl-card__media"></div>
          <div class="mdl-card__supporting-text mdl-color-text--grey-600"></div>
        </div>
        <div class="mdl-card mdl-cell mdl-cell--12-col mdl-shadow--2dp missionCard">
          <div class="mdl-card__media"></div>
          <div class="mdl-card__supporting-text mdl-color-text--grey-600"></div>
        </div>
      </div>
    </div>
    <button id="newButton_scrolled" class="mdl-button mdl-js-button mdl-button--fab mdl-button--colored mdl-js-ripple-effect newButton_scrolled">
      <i class="material-icons mdl-color-text--white" role="presentation">add</i>
    </button>
  </div>
</body>
</html>